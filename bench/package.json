{
    "name": "ratelimit-benchmark",
    "version": "1.0.0",
    "description": "Benchmark for Redis and Valkey rate limiters",
    "main": "src/server/index.js",
    "scripts": {
        "start": "node src/server/index.js",
        "start:cluster": "USE_CLUSTER=true node src/server/index.js",
        "start:valkey-glide": "MODE=valkey-glide node src/server/index.js",
        "start:valkey-io": "MODE=valkey-io node src/server/index.js",
        "start:redis-ioredis": "MODE=redis-ioredis node src/server/index.js",
        "start:redis-node": "MODE=redis-node node src/server/index.js",
        "start:redis-cluster": "MODE=redis-ioredis USE_REDIS_CLUSTER=true CLUSTER_NODES='[{\"host\":\"redis-node1\",\"port\":6379},{\"host\":\"redis-node2\",\"port\":6379},{\"host\":\"redis-node3\",\"port\":6379},{\"host\":\"redis-node4\",\"port\":6379},{\"host\":\"redis-node5\",\"port\":6379},{\"host\":\"redis-node6\",\"port\":6379}]' node src/server/index.js",
        "start:valkey-cluster": "MODE=valkey-glide USE_VALKEY_CLUSTER=true VALKEY_CLUSTER_NODES='[{\"host\":\"valkey-node1\",\"port\":8080},{\"host\":\"valkey-node2\",\"port\":8080},{\"host\":\"valkey-node3\",\"port\":8080},{\"host\":\"valkey-node4\",\"port\":8080},{\"host\":\"valkey-node5\",\"port\":8080},{\"host\":\"valkey-node6\",\"port\":8080}]' node src/server/index.js",
        "benchmark": "./run-benchmark.sh",
        "benchmark:custom": "DURATION=5m CONCURRENCY=100 WORKERS=4 RATE_LIMIT=200 RATE_DURATION=60 ./run-benchmark.sh",
        "benchmark:cluster": "USE_CLUSTER=true ./run-benchmark.sh",
        "benchmark:redis-cluster": "USE_REDIS_CLUSTER=true MODE=redis-ioredis ./run-benchmark.sh",
        "benchmark:valkey-cluster": "USE_VALKEY_CLUSTER=true MODE=valkey-glide ./run-benchmark.sh",
        "docker:up": "cd docker && docker-compose up -d",
        "docker:down": "cd docker && docker-compose down -v",
        "docker:redis-cluster:up": "cd docker && docker-compose -f docker-compose-redis-cluster.yml up -d",
        "docker:redis-cluster:down": "cd docker && docker-compose -f docker-compose-redis-cluster.yml down -v",
        "docker:valkey-cluster:up": "cd docker && docker-compose -f docker-compose-valkey-cluster.yml up -d",
        "docker:valkey-cluster:down": "cd docker && docker-compose -f docker-compose-valkey-cluster.yml down -v",
        "lint": "eslint --fix .",
        "lint:check": "eslint ."
    },
    "dependencies": {
        "@valkey/valkey-glide": "1.3.2",
        "fastify": "5.2.2",
        "ioredis": "^5.6.0",
        "iovalkey": "0.3.1",
        "pino-pretty": "13.0.0",
        "prom-client": "15.1.3",
        "rate-limiter-flexible": "7.0.0",
        "redis": "4.7.0"
    },
    "engines": {
        "node": ">=20.0.0"
    },
    "devDependencies": {
        "eslint": "^8.57.1",
        "eslint-config-standard": "^17.1.0",
        "eslint-plugin-import": "^2.31.0",
        "eslint-plugin-node": "^11.1.0",
        "eslint-plugin-promise": "^7.2.1"
    }
}
